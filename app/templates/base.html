<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Agri Bantay Presyo{% endblock %}</title>

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#22c55e",
              background: "#0a0a0a",
              foreground: "#fafafa",
              card: "#171717",
              border: "#262626",
              muted: "#a3a3a3",
            },
          },
        },
      };
    </script>

    <!-- HTMX for dynamic updates -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <!-- Alpine.js for client-side interactivity -->
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>

    <!-- Chart.js for charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
      body {
        background-color: #0a0a0a;
        color: #fafafa;
        font-family:
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          sans-serif;
      }
      .glass-card {
        background: linear-gradient(
          135deg,
          rgba(23, 23, 23, 0.8) 0%,
          rgba(23, 23, 23, 0.4) 100%
        );
        backdrop-filter: blur(10px);
      }
      .ticker-scroll {
        animation: ticker 30s linear infinite;
      }
      @keyframes ticker {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }
      .gradient-text {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }
    </style>
    {% block head %}{% endblock %}
  </head>
  <body class="min-h-screen bg-background" x-data="{ mobileMenuOpen: false }">
    <!-- Navigation -->
    <nav
      class="sticky top-0 z-50 border-b border-border/50 bg-background/80 backdrop-blur-xl"
    >
      <div class="container mx-auto px-4">
        <div class="flex h-16 items-center justify-between">
          <a href="/" class="flex items-center gap-2">
            <div
              class="size-8 rounded-lg bg-primary/20 flex items-center justify-center"
            >
              <i data-lucide="leaf" class="size-5 text-primary"></i>
            </div>
            <span class="font-black text-lg tracking-tight"
              >Bantay<span class="text-primary">Presyo</span></span
            >
          </a>

          <div class="hidden md:flex items-center gap-6">
            <a
              href="/"
              class="text-sm font-bold text-foreground/60 hover:text-primary transition-colors"
              >Overview</a
            >
            <a
              href="/markets"
              class="text-sm font-bold text-foreground/60 hover:text-primary transition-colors"
              >Markets</a
            >
            <a
              href="/analytics"
              class="text-sm font-bold text-foreground/60 hover:text-primary transition-colors"
              >Analytics</a
            >
            <a
              href="/api/v1/docs"
              target="_blank"
              class="text-sm font-bold text-foreground/60 hover:text-primary transition-colors"
              >API</a
            >
          </div>

          <!-- Search -->
          <form
            action="/markets"
            method="get"
            class="hidden md:flex items-center"
          >
            <div class="relative">
              <i
                data-lucide="search"
                class="absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted"
              ></i>
              <input
                type="text"
                name="q"
                placeholder="Search commodities..."
                class="pl-10 pr-4 py-2 bg-card border border-border rounded-lg text-sm focus:outline-none focus:border-primary w-48 transition-all"
              />
            </div>
          </form>

          <button
            @click="mobileMenuOpen = !mobileMenuOpen"
            class="md:hidden p-2"
          >
            <i data-lucide="menu" class="size-5"></i>
          </button>
        </div>
      </div>

      <!-- Mobile menu -->
      <div
        x-show="mobileMenuOpen"
        x-transition
        class="md:hidden border-t border-border/50 bg-background"
      >
        <div class="container mx-auto px-4 py-4 space-y-2">
          <a
            href="/"
            class="block py-2 text-sm font-bold text-foreground/60 hover:text-primary"
            >Overview</a
          >
          <a
            href="/markets"
            class="block py-2 text-sm font-bold text-foreground/60 hover:text-primary"
            >Markets</a
          >
          <a
            href="/analytics"
            class="block py-2 text-sm font-bold text-foreground/60 hover:text-primary"
            >Analytics</a
          >
          <a
            href="/api/v1/docs"
            class="block py-2 text-sm font-bold text-foreground/60 hover:text-primary"
            >API</a
          >
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main>{% block content %}{% endblock %}</main>

    <!-- Footer -->
    <footer class="border-t border-border/50 mt-20 py-8">
      <div class="container mx-auto px-4">
        <div
          class="flex flex-col md:flex-row items-center justify-between gap-4"
        >
          <p class="text-sm text-muted">
            &copy; 2024 Agri Bantay Presyo. Data sourced from DA-AMAS.
          </p>
          <div class="flex items-center gap-4">
            <a
              href="https://github.com"
              target="_blank"
              class="text-muted hover:text-primary transition-colors"
            >
              <i data-lucide="github" class="size-5"></i>
            </a>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();
    </script>
    {% block scripts %}{% endblock %}
  </body>
</html>
